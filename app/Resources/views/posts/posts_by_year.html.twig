{% extends 'base.html.twig'  %}

{%  block body  %}
    <br><br><br><br>


    <div class="search-container col-lg-12">

        <div class="form-control" style="margin-left:33px;width:70px;">
            <a href="{{ path('posts_index') }}">Home</a>
        </div>

        <div class="search-container col-lg-12">
            <form action="{{ path('search_post_action') }}" method="POST" >
                <input type="text" placeholder="Search.." class="col-lg-11" style="margin-left:17px; height:30px;" name="searchable">
                <span><button style="height:30px;" type="submit">Submit</button></span>
            </form>
        </div>

        <div class="col-lg-9" style="margin-bottom:40px;">



            <span style="margin-left:50px">
            All years
                {% for year in years %}
                    <button class="btn btn-default"><a href="{{ path('post_by_year',{'id' : year.id }) }}">{{ year.yearname }}</a></button>
                {% endfor %}

            </span>

            <select class="selectpicker" id="selectbox" name="" onchange="javascript:location.href = this.value;" >
                <option value="" >Category</option>
                {% for category in categories %}
                    <option value="{{ path('post_by_category',{'id' : category.id }) }}"> {{ category.categoryName }}</option>

                {% endfor %}
            </select>

            <span class="pull-right">
            <select class="selectpicker" id="selectbox" name="" onchange="javascript:location.href = this.value;" >
                <option value="" >Country</option>
                {% for country in countries %}
                    <option value="{{ path('post_by_country',{'id' : country.id }) }}"> {{ country.countryName }}</option>

                {% endfor %}
            </select>
                </span>

            <span class="pull-right">
            <select class="selectpicker" id="selectbox" name="" onchange="javascript:location.href = this.value;" >
                <option value="" >Language</option>
                {% for language in languages %}
                    <option value="{{ path('post_by_language',{'id' : language.id }) }}"> {{ language.languageName }}</option>

                {% endfor %}
            </select>
                </span>



        </div>
    </div>

    <div class="col-lg-12">

        {% for year in years %}

        {% endfor %}


        {% for post in posts %}


            <div class="lll col-lg-3" style="margin-bottom:50px;">
                <div class="col-lg-12">
                    <img class="img-responsive pic-index"   src="{{ post.image }}" alt="">
                </div>
                <div>
                    <div class="col-lg-12">
                        <h3 style="color:cornflowerblue;"><a href="{{ path('post_by_category',{'id' : post.Category.id }) }}">{{ post.Category.categoryname }}</a>
                            <span class="pull-right">{{ post.createdat |date("m/d/Y") }}</span>
                        </h3>
                    </div>
                </div>
                <div class="col-lg-12">
                    <h4>{{ post.title }}</h4>
                </div>

                <hr>
            </div>


        {% endfor %}

    </div>
    <script type="text/javascript">
        window.onload = function(){
            if(document.getElementById("selectbox").value){
                location.href=document.getElementById("selectbox").value;
            }
        }
    </script>
{%  endblock %}

